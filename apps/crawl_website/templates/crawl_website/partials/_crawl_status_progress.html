{# Updated via WS OOB swap #}
{% if status == 'cancelled' %}
<div id="crawl-status-message" class="mb-3">
    <div class="alert alert-warning">
        <i class="fas fa-exclamation-triangle me-2"></i>
        <strong>Crawl Cancelled:</strong> {{ message|default:"The crawl was cancelled." }}
    </div>
</div>
{% elif status == 'error' %}
<div id="crawl-status-message" class="mb-3">
    <div class="alert alert-danger">
        <i class="fas fa-exclamation-circle me-2"></i>
        <strong>Error:</strong> {{ message|default:"An error occurred during the crawl." }}
    </div>
</div>
{% else %}
<div id="crawl-status-message" class="mb-3">
    <p class="text-muted">{{ message|default:"Processing..." }}</p>
</div>
<div class="progress mb-3">
    <div id="crawl-progress-bar"
         class="progress-bar {% if status == 'failed' %}bg-danger{% elif status == 'completed' %}bg-success{% endif %}"
         role="progressbar"
         style="width: {{ progress|default:0 }}%"
         aria-valuenow="{{ progress|default:0 }}"
         aria-valuemin="0"
         aria-valuemax="100">
    </div>
    <span id="progress-percent-display">{{ progress|default:0 }}%</span>
</div>
{% endif %}
{% if status != 'cancelled' and status != 'error' %}
<div id="crawl-page-stats" class="mb-3">
    <small class="text-muted">Pages Visited: <span id="links-visited-count">{{ links_visited|default:0 }}</span></small><br/>
    <small class="text-muted" id="current-url-display">Current URL: <code>{{ current_url|default:'N/A' }}</code></small>
</div>
{% endif %}