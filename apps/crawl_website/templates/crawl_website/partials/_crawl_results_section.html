{# Partial template for the crawl results section #}
<div class="card">
    <div class="card-header p-3">
        <div class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <i class="fas fa-check-circle text-success me-2"></i>
                <h6 class="mb-0">Crawl Results</h6>
            </div>
            <button class="btn btn-sm btn-outline-primary" 
                    hx-on:click="document.getElementById('crawl-results-section').style.display = 'none';">
                <i class="fas fa-times me-1"></i> Close Results
            </button>
        </div>
    </div>
    <div class="card-body p-3">
        <div id="crawl-results">
            {% include "crawl_website/partials/_crawl_results.html" %}
        </div>

        <div id="crawl-download-links" class="mt-3 d-flex gap-2" {% if file_url or csv_url %}style="display: flex;"{% else %}style="display: none;"{% endif %}>
            {% if file_url %}
                <a href="{{ file_url }}" class="btn btn-sm btn-info" target="_blank">View Raw Result</a>
                <a href="{{ file_url }}" class="btn btn-sm btn-primary" download>Download Result</a>
            {% endif %}
            {% if csv_url %}
                <a href="{{ csv_url }}" class="btn btn-sm btn-success" download="crawl_results.csv">Download CSV</a>
            {% endif %}
        </div>

        <div class="page-details" id="page-details-section" style="display: none;">
            <h6 class="mb-3">Page Details</h6>
            <div class="table-responsive">
                <table class="table align-items-center mb-0">
                    <thead>
                        <tr>
                            <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">URL</th>
                            <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Title</th>
                            <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Status</th>
                        </tr>
                    </thead>
                    <tbody id="page-details-table">
                        <!-- Page details will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
