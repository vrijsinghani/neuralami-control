<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-header pb-0 p-3">
        <div class="d-flex justify-content-between align-items-center">
          <h6 class="mb-0">Keyword Groups</h6>
          <button class="btn btn-sm btn-outline-primary" 
                  hx-get="{% url 'seo_manager:new_keyword_group_form' client.id %}" 
                  hx-target="#newGroupModal .modal-body" 
                  data-bs-toggle="modal" 
                  data-bs-target="#newGroupModal">
            <i class="fas fa-plus me-1"></i> New Group
          </button>
        </div>
      </div>
      <div class="card-body p-3">
        <div class="row" id="keyword-groups-container">
          <!-- Brand Terms Group -->
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card card-body border shadow-sm h-100">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="d-flex align-items-center">
                  <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md me-2" style="width: 32px; height: 32px;">
                    <i class="fas fa-tag text-white text-sm opacity-10"></i>
                  </div>
                  <h6 class="mb-0">Brand Terms</h6>
                </div>
                <div class="dropdown">
                  <button class="btn btn-link text-secondary mb-0" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:edit_keyword_group' client.id %}?group_id=1" 
                         hx-target="#editGroupModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#editGroupModal">
                        <i class="fas fa-edit me-2"></i> Edit
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:view_group_keywords' client.id %}?group_id=1" 
                         hx-target="#viewGroupKeywordsModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#viewGroupKeywordsModal">
                        <i class="fas fa-list me-2"></i> View Keywords
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item text-danger" href="#" 
                         hx-delete="{% url 'seo_manager:delete_keyword_group' client.id %}?group_id=1" 
                         hx-confirm="Are you sure you want to delete this group?" 
                         hx-target="#keyword-groups-container">
                        <i class="fas fa-trash me-2"></i> Delete
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-sm text-muted">32 keywords</span>
                <span class="text-sm">Avg: 2.1</span>
              </div>
              <div class="progress mb-3" style="height: 6px;">
                <div class="progress-bar bg-gradient-success" role="progressbar" style="width: 65%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <button class="btn btn-sm btn-outline-primary" 
                        hx-get="{% url 'seo_manager:group_performance' client.id %}?group_id=1" 
                        hx-target="#groupPerformanceModal .modal-body" 
                        data-bs-toggle="modal" 
                        data-bs-target="#groupPerformanceModal">
                  Performance
                </button>
                <span class="badge bg-gradient-success">+2.3</span>
              </div>
            </div>
          </div>
          
          <!-- Product Terms Group -->
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card card-body border shadow-sm h-100">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="d-flex align-items-center">
                  <div class="icon icon-shape bg-gradient-success shadow text-center border-radius-md me-2" style="width: 32px; height: 32px;">
                    <i class="fas fa-box text-white text-sm opacity-10"></i>
                  </div>
                  <h6 class="mb-0">Product Terms</h6>
                </div>
                <div class="dropdown">
                  <button class="btn btn-link text-secondary mb-0" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:edit_keyword_group' client.id %}?group_id=2" 
                         hx-target="#editGroupModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#editGroupModal">
                        <i class="fas fa-edit me-2"></i> Edit
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:view_group_keywords' client.id %}?group_id=2" 
                         hx-target="#viewGroupKeywordsModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#viewGroupKeywordsModal">
                        <i class="fas fa-list me-2"></i> View Keywords
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item text-danger" href="#" 
                         hx-delete="{% url 'seo_manager:delete_keyword_group' client.id %}?group_id=2" 
                         hx-confirm="Are you sure you want to delete this group?" 
                         hx-target="#keyword-groups-container">
                        <i class="fas fa-trash me-2"></i> Delete
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-sm text-muted">128 keywords</span>
                <span class="text-sm">Avg: 8.7</span>
              </div>
              <div class="progress mb-3" style="height: 6px;">
                <div class="progress-bar bg-gradient-info" role="progressbar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <button class="btn btn-sm btn-outline-primary" 
                        hx-get="{% url 'seo_manager:group_performance' client.id %}?group_id=2" 
                        hx-target="#groupPerformanceModal .modal-body" 
                        data-bs-toggle="modal" 
                        data-bs-target="#groupPerformanceModal">
                  Performance
                </button>
                <span class="badge bg-gradient-info">+0.8</span>
              </div>
            </div>
          </div>
          
          <!-- Informational Group -->
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card card-body border shadow-sm h-100">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="d-flex align-items-center">
                  <div class="icon icon-shape bg-gradient-info shadow text-center border-radius-md me-2" style="width: 32px; height: 32px;">
                    <i class="fas fa-info-circle text-white text-sm opacity-10"></i>
                  </div>
                  <h6 class="mb-0">Informational</h6>
                </div>
                <div class="dropdown">
                  <button class="btn btn-link text-secondary mb-0" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:edit_keyword_group' client.id %}?group_id=3" 
                         hx-target="#editGroupModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#editGroupModal">
                        <i class="fas fa-edit me-2"></i> Edit
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:view_group_keywords' client.id %}?group_id=3" 
                         hx-target="#viewGroupKeywordsModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#viewGroupKeywordsModal">
                        <i class="fas fa-list me-2"></i> View Keywords
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item text-danger" href="#" 
                         hx-delete="{% url 'seo_manager:delete_keyword_group' client.id %}?group_id=3" 
                         hx-confirm="Are you sure you want to delete this group?" 
                         hx-target="#keyword-groups-container">
                        <i class="fas fa-trash me-2"></i> Delete
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-sm text-muted">84 keywords</span>
                <span class="text-sm">Avg: 12.3</span>
              </div>
              <div class="progress mb-3" style="height: 6px;">
                <div class="progress-bar bg-gradient-warning" role="progressbar" style="width: 30%;" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <button class="btn btn-sm btn-outline-primary" 
                        hx-get="{% url 'seo_manager:group_performance' client.id %}?group_id=3" 
                        hx-target="#groupPerformanceModal .modal-body" 
                        data-bs-toggle="modal" 
                        data-bs-target="#groupPerformanceModal">
                  Performance
                </button>
                <span class="badge bg-gradient-warning">-0.5</span>
              </div>
            </div>
          </div>
          
          <!-- Commercial Group -->
          <div class="col-md-6 col-lg-4 mb-4">
            <div class="card card-body border shadow-sm h-100">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="d-flex align-items-center">
                  <div class="icon icon-shape bg-gradient-warning shadow text-center border-radius-md me-2" style="width: 32px; height: 32px;">
                    <i class="fas fa-dollar-sign text-white text-sm opacity-10"></i>
                  </div>
                  <h6 class="mb-0">Commercial</h6>
                </div>
                <div class="dropdown">
                  <button class="btn btn-link text-secondary mb-0" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-ellipsis-v"></i>
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:edit_keyword_group' client.id %}?group_id=4" 
                         hx-target="#editGroupModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#editGroupModal">
                        <i class="fas fa-edit me-2"></i> Edit
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="#" 
                         hx-get="{% url 'seo_manager:view_group_keywords' client.id %}?group_id=4" 
                         hx-target="#viewGroupKeywordsModal .modal-body" 
                         data-bs-toggle="modal" 
                         data-bs-target="#viewGroupKeywordsModal">
                        <i class="fas fa-list me-2"></i> View Keywords
                      </a>
                    </li>
                    <li>
                      <a class="dropdown-item text-danger" href="#" 
                         hx-delete="{% url 'seo_manager:delete_keyword_group' client.id %}?group_id=4" 
                         hx-confirm="Are you sure you want to delete this group?" 
                         hx-target="#keyword-groups-container">
                        <i class="fas fa-trash me-2"></i> Delete
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span class="text-sm text-muted">56 keywords</span>
                <span class="text-sm">Avg: 15.2</span>
              </div>
              <div class="progress mb-3" style="height: 6px;">
                <div class="progress-bar bg-gradient-danger" role="progressbar" style="width: 20%;" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div class="d-flex justify-content-between align-items-center">
                <button class="btn btn-sm btn-outline-primary" 
                        hx-get="{% url 'seo_manager:group_performance' client.id %}?group_id=4" 
                        hx-target="#groupPerformanceModal .modal-body" 
                        data-bs-toggle="modal" 
                        data-bs-target="#groupPerformanceModal">
                  Performance
                </button>
                <span class="badge bg-gradient-danger">-1.2</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Keyword Group Modals -->
<div class="modal fade" id="newGroupModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Create New Keyword Group</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="text-center py-4">
          <div class="spinner-border text-primary" role="status"></div>
          <p class="mt-2">Loading form...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="editGroupModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit Keyword Group</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="text-center py-4">
          <div class="spinner-border text-primary" role="status"></div>
          <p class="mt-2">Loading form...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="viewGroupKeywordsModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Group Keywords</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="text-center py-4">
          <div class="spinner-border text-primary" role="status"></div>
          <p class="mt-2">Loading keywords...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="groupPerformanceModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Group Performance</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="text-center py-4">
          <div class="spinner-border text-primary" role="status"></div>
          <p class="mt-2">Loading performance data...</p>
        </div>
      </div>
    </div>
  </div>
</div>
