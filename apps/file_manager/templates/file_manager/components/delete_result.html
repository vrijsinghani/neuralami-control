{% load file_extension %}

{% if deleted_files %}
  <div class="alert alert-success">
    <h6 class="alert-heading">Files Deleted Successfully</h6>
    <ul class="mb-0">
      {% for path in deleted_files %}
        <li>{{ path|filename }}</li>
      {% endfor %}
    </ul>
  </div>

  <!-- Refresh the file list -->
  <script>
    htmx.ajax('GET', window.location.pathname + '?component=file-list', {target: '#file-list-container'});
  </script>
{% endif %}

{% if errors %}
  <div class="alert alert-danger">
    <h6 class="alert-heading">Deletion Errors</h6>
    <ul class="mb-0">
      {% for error in errors %}
        <li>{{ error.path|filename }}: {{ error.error }}</li>
      {% endfor %}
    </ul>
  </div>
{% endif %}
