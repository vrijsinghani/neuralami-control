<!DOCTYPE html>
<html lang="en">

<head>
  {% include "includes/head.html" %}
  {% block extrastyle %}{% endblock extrastyle %}
</head>

<body class="g-sidenav-show bg-gray-100" id="main-body">
    {% block sidebar %}
        {% include "includes/sidebar.html" %}
    {% endblock sidebar %}

  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
    {% block navigation %}
        {% include "includes/navigation.html" %}
    {% endblock navigation %}
    {% block content %}{% endblock content %}
    
    {% include "includes/footer.html" %}
  </main>

  {% block configurator %}
    {% include "includes/configurator.html" %}
  {% endblock configurator %}

  {% include "includes/scripts.html" %}
  {% block extra_js %}{% endblock extra_js %}
  
  <!-- Apply dark mode class to body immediately if needed -->
  <script>
    (function() {
      try {
        // Check for dark mode preference and apply immediately
        if (localStorage.getItem('darkMode') === 'true') {
          document.body.classList.add('dark-version');
        }
        
        // Clean up preload class
        document.addEventListener('DOMContentLoaded', function() {
          setTimeout(function() {
            document.documentElement.classList.remove('dark-mode-preload');
          }, 300);
        });
      } catch (e) {
        console.error('Error applying theme to body:', e);
      }
    })();
  </script>

</body>

</html>
